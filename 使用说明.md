# 小红书商品采集器 - 使用说明

## 🎯 问题解决

您之前遇到的"invalid argument"错误已经修复！现在程序可以正常处理小红书分享链接了。

## 🔧 修复内容

### 1. URL处理错误修复
- **问题**：程序无法正确处理包含表情符号的小红书分享链接
- **原因**：传递给浏览器的URL格式不正确
- **解决**：改进了URL清理逻辑，确保只传递有效的链接给浏览器

### 2. 错误处理增强
- 添加了URL格式验证
- 改进了异常捕获机制
- 提供了更详细的错误信息

## 📝 使用方法

### 1. 启动程序
```bash
python spider.py
```

### 2. 输入链接
在"商品采集"标签页中，您可以输入以下格式的链接：

#### 分享链接格式（推荐）
```
【小红书】语文面试试讲资料 😆 8y8sabjg9Tk 😆 https://xhslink.com/m/AUZmdTMCO1j 点击链接或者复制本条信息打开【小红书app】查看 HU7121
```

#### 标准链接格式
```
https://www.xiaohongshu.com/goods-detail/5fvEArEuMPs
```

#### 短链接格式
```
https://xhslink.com/m/AUZmdTMCO1j
```

### 3. 开始采集
1. 将链接粘贴到文本框中（每行一个）
2. 点击"开始采集"按钮
3. 查看实时日志了解进度

## ✅ 测试验证

运行测试脚本验证修复效果：
```bash
python test_url_fix.py
```

## 🚨 注意事项

1. **确保Chrome浏览器已安装**
2. **保持网络连接稳定**
3. **避免频繁访问，以免被限制**
4. **定期备份数据库文件**

## 📊 预期结果

修复后，程序应该能够：
- ✅ 正确解析小红书分享链接
- ✅ 成功访问商品页面
- ✅ 提取商品信息（标题、价格、销量等）
- ✅ 保存数据到Excel文件

## 🆘 如果仍有问题

如果遇到其他问题，请：
1. 查看程序日志获取详细错误信息
2. 确保Chrome浏览器版本是最新的
3. 检查网络连接是否正常
4. 尝试重新启动程序

---

**祝您使用愉快！** 🎉
